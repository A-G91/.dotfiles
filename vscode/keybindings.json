// Place your key bindings in this file to override the defaults
[
    // Navigate
    {
        "command": "workbench.action.navigateLeft",
        "key": "ctrl-q",
        "when": "vim.mode == 'Normal' && !inQuickOpen"
    },
    {
        "command": "workbench.action.navigateRight",
        "key": "ctrl-e",
        "when": "vim.mode == 'Normal' && !inQuickOpen"
    },
    {
        "command": "workbench.action.navigateLeft",
        "key": "ctrl-h",
        "when": "vim.mode == 'Normal' && !inQuickOpen"
    },
    {
        "command": "workbench.action.navigateRight",
        "key": "ctrl-l",
        "when": "vim.mode == 'Normal' && !inQuickOpen"
    },
    {
        "command": "workbench.action.navigateUp",
        "key": "ctrl-k",
        "when": "vim.mode == 'Normal' && !inQuickOpen"
    },
    {
        "command": "workbench.action.navigateDown",
        "key": "ctrl-j",
        "when": "vim.mode == 'Normal' && !inQuickOpen"
    },
    // TODO: when using ctrl+f (quickTextSearch), it enters visual mode but then ctrl+c won't work to get back to normal mode
    {
        "args": {
            "commands": [
                "cancelRenameInput",
                "closeFindWidget",
                "closeMarkersNavigation",
                "closeParameterHints",
                "editor.action.hideHover",
                "hideSuggestWidget",
                "notification.clear",
                "notifications.hideList",
                "workbench.action.closeAuxiliaryBar",
                "workbench.action.closePanel",
                "workbench.action.closeQuickOpen",
                "workbench.action.closeSidebar",
            ]
        },
        "command": "runCommands",
        "key": "ctrl+c",
        "when": "vim.mode == 'Normal' || vim.mode == 'Visual'"
    },
    // Code navigation
    {
        "command": "workbench.action.quickOpen",
        "key": "space f f",
        "when": "vim.mode == 'Normal' && (editorTextFocus || !inputFocus)"
    },
    {
        "command": "workbench.action.quickOpen",
        "key": "space f f",
        "when": "vim.mode == 'Normal' && (editorTextFocus || !inputFocus)"
    },
    {
        "command": "explorer.openToSide",
        "key": "ctrl+e",
        "when": "inQuickOpen"
    },
    {
        "command": "editor.action.revealDefinition",
        "key": "ctrl+d",
        "when": "vim.mode == 'Normal' && (editorTextFocus || !inputFocus)"
    },
    {
        "command": "editor.action.revealDefinitionAside",
        "key": "ctrl+e",
        "when": "vim.mode == 'Normal' && (editorTextFocus || !inputFocus)"
    },
    {
        "args": {
            "commands": [
                // Select word under cursor
                "editor.action.addSelectionToNextFindMatch",
                // Now run your Quick Text Search with the selected word
                {
                    "args": {
                        "matchWholeWord": true,
                        "query": "${selectedText}",
                        "triggerSearch": true
                    },
                    "command": "workbench.action.quickTextSearch"
                }
            ]
        },
        "command": "runCommands",
        "key": "ctrl+f",
        "when": "editorTextFocus && !inQuickOpen"
    },
    {
        "command": "workbench.action.problems.focus",
        "key": "space s d",
        "when": "vim.mode == 'Normal' && (editorTextFocus || !inputFocus)"
    },
    {
        "command": "editor.action.marker.nextInFiles",
        "key": "ctrl+n",
        "when": "view.workbench.panel.markers.view.visible"
    },
    {
        "command": "editor.action.marker.prevInFiles",
        "key": "ctrl+p",
        "when": "view.workbench.panel.markers.view.visible"
    },
    // Save 
    {
        "command": "workbench.action.files.save",
        "key": "space w",
        "when": "vim.mode == 'Normal' && (editorTextFocus || !inputFocus)"
    },
    // LSP
    {
        "command": "editor.action.showHover",
        "key": "shift-k",
        "when": "vim.mode == 'Normal' && editorTextFocus"
    },
    {
        "command": "editor.action.codeAction",
        "key": "space c a",
        "when": "vim.mode == 'Normal' && editorTextFocus"
    },
]